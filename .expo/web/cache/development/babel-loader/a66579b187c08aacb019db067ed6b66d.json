{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { StatusBar } from \"expo-status-bar\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport MapView, { PROVIDER_GOOGLE } from \"react-native-maps\";\nimport LoginScreen from \"./components/LoginScreen\";\nimport SignUp from \"./components/SignUp\";\nimport HomeScreen from \"./components/HomeScreen\";\nimport BusDetailScreen from \"./components/BusDetailScreen\";\nimport Maps from \"./components/Maps\";\nimport { firebase } from \"./config\";\nimport React, { useEffect, useState } from \"react\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Stack = createNativeStackNavigator();\nfunction App() {\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    initialize = _useState2[0],\n    setInitialize = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    user = _useState4[0],\n    setUser = _useState4[1];\n  function onAuthStateChanged(user) {\n    setUser(user);\n    if (initialize) setInitialize(false);\n  }\n  useEffect(function () {\n    var Subscriber = firebase.auth().onAuthStateChanged(onAuthStateChanged);\n    return Subscriber;\n  }, []);\n  if (initialize) return null;\n  if (!user) {\n    return _jsx(NavigationContainer, {\n      children: _jsxs(Stack.Navigator, {\n        initialRouteName: \"Login\",\n        children: [_jsx(Stack.Screen, {\n          name: \"LoginScreen\",\n          component: LoginScreen\n        }), _jsx(Stack.Screen, {\n          name: \"SignUp\",\n          component: SignUp\n        }), _jsx(Stack.Screen, {\n          name: \"Maps\",\n          component: Maps\n        }), _jsx(Stack.Screen, {\n          name: \"BusDetail\",\n          component: BusDetailScreen\n        }), _jsx(Stack.Screen, {\n          name: \"HomeScreen\",\n          component: HomeScreen\n        })]\n      })\n    });\n  }\n}\nexport default (function () {\n  return _jsx(NavigationContainer, {\n    children: _jsx(App, {})\n  });\n});","map":{"version":3,"names":["StatusBar","NavigationContainer","createNativeStackNavigator","MapView","PROVIDER_GOOGLE","LoginScreen","SignUp","HomeScreen","BusDetailScreen","Maps","firebase","React","useEffect","useState","Stack","App","initialize","setInitialize","user","setUser","onAuthStateChanged","Subscriber","auth"],"sources":["D:/FYP/App.js"],"sourcesContent":["import { StatusBar } from \"expo-status-bar\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { StyleSheet, Text, View } from \"react-native\";\nimport MapView,{ PROVIDER_GOOGLE} from \"react-native-maps\";\nimport LoginScreen from \"./components/LoginScreen\";\nimport SignUp from \"./components/SignUp\";\nimport HomeScreen from \"./components/HomeScreen\";\nimport BusDetailScreen from \"./components/BusDetailScreen\";\nimport Maps from \"./components/Maps\";\nimport {firebase} from \"./config\"\nimport React,{useEffect,useState} from \"react\";\n\nconst Stack = createNativeStackNavigator();\n function App() {\n\t\n\tconst [initialize, setInitialize] = useState(true);\n\tconst [user, setUser] = useState();\n\n\t//handle user state chsnges\n\tfunction onAuthStateChanged(user){\n\t\tsetUser(user);\n\t\tif(initialize) setInitialize(false);\n\t}\n\tuseEffect(() => {\n\t\tconst Subscriber = firebase.auth().onAuthStateChanged(onAuthStateChanged);\n\t\treturn Subscriber\n\t}, []);\n\n\tif(initialize) return null;\n\tif(!user){\n\treturn (\n\t\t<NavigationContainer>\n\t\t\t<Stack.Navigator initialRouteName=\"Login\">\n\t\t\t\t<Stack.Screen name=\"LoginScreen\" component={LoginScreen} />\n\t\t\t\t<Stack.Screen name=\"SignUp\" component={SignUp} />\n\t\t\t\t <Stack.Screen name=\"Maps\" component={Maps} />  \n                <Stack.Screen name=\"BusDetail\" component={BusDetailScreen} />\n\t\t\t\t<Stack.Screen name=\"HomeScreen\" component={HomeScreen} />\n\t\t\t\t\n\t\t\t</Stack.Navigator>\n\t\t</NavigationContainer>\n\t);\n\t}\n}\n\nexport default()=>{\n\treturn(\n\t\t<NavigationContainer>\n\t\t\t<App />\n\t\t</NavigationContainer>\n\t)\n}\n// const styles = StyleSheet.create({\n// \tcontainer: {\n// \t\tflex: 1,\n// \t\tbackgroundColor: \"#fff\",\n// \t\talignItems: \"center\",\n// \t\tjustifyContent: \"center\",\n// \t},\n// });\n\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,mBAAmB,QAAQ,0BAA0B;AAC9D,SAASC,0BAA0B,QAAQ,gCAAgC;AAAC;AAAA;AAAA;AAE5E,OAAOC,OAAO,IAAGC,eAAe,QAAO,mBAAmB;AAC1D,OAAOC,WAAW;AAClB,OAAOC,MAAM;AACb,OAAOC,UAAU;AACjB,OAAOC,eAAe;AACtB,OAAOC,IAAI;AACX,SAAQC,QAAQ;AAChB,OAAOC,KAAK,IAAEC,SAAS,EAACC,QAAQ,QAAO,OAAO;AAAC;AAAA;AAE/C,IAAMC,KAAK,GAAGZ,0BAA0B,EAAE;AACzC,SAASa,GAAG,GAAG;EAEf,gBAAoCF,QAAQ,CAAC,IAAI,CAAC;IAAA;IAA3CG,UAAU;IAAEC,aAAa;EAChC,iBAAwBJ,QAAQ,EAAE;IAAA;IAA3BK,IAAI;IAAEC,OAAO;EAGpB,SAASC,kBAAkB,CAACF,IAAI,EAAC;IAChCC,OAAO,CAACD,IAAI,CAAC;IACb,IAAGF,UAAU,EAAEC,aAAa,CAAC,KAAK,CAAC;EACpC;EACAL,SAAS,CAAC,YAAM;IACf,IAAMS,UAAU,GAAGX,QAAQ,CAACY,IAAI,EAAE,CAACF,kBAAkB,CAACA,kBAAkB,CAAC;IACzE,OAAOC,UAAU;EAClB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAGL,UAAU,EAAE,OAAO,IAAI;EAC1B,IAAG,CAACE,IAAI,EAAC;IACT,OACC,KAAC,mBAAmB;MAAA,UACnB,MAAC,KAAK,CAAC,SAAS;QAAC,gBAAgB,EAAC,OAAO;QAAA,WACxC,KAAC,KAAK,CAAC,MAAM;UAAC,IAAI,EAAC,aAAa;UAAC,SAAS,EAAEb;QAAY,EAAG,EAC3D,KAAC,KAAK,CAAC,MAAM;UAAC,IAAI,EAAC,QAAQ;UAAC,SAAS,EAAEC;QAAO,EAAG,EAChD,KAAC,KAAK,CAAC,MAAM;UAAC,IAAI,EAAC,MAAM;UAAC,SAAS,EAAEG;QAAK,EAAG,EAClC,KAAC,KAAK,CAAC,MAAM;UAAC,IAAI,EAAC,WAAW;UAAC,SAAS,EAAED;QAAgB,EAAG,EACzE,KAAC,KAAK,CAAC,MAAM;UAAC,IAAI,EAAC,YAAY;UAAC,SAAS,EAAED;QAAW,EAAG;MAAA;IAExC,EACG;EAEvB;AACD;AAEA,gBAAc,YAAI;EACjB,OACC,KAAC,mBAAmB;IAAA,UACnB,KAAC,GAAG;EAAG,EACc;AAExB,CAAC"},"metadata":{},"sourceType":"module"}